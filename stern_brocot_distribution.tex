\documentclass{article}
\usepackage[pdfusetitle]{hyperref}
\usepackage{amssymb}
\usepackage{amsmath}
\hypersetup{
	pdfkeywords = {Stern-Brocot},
	pdfsubject  = {Stern-Brocot sequences}
}
\title{Number Distribution in the Stern-Brocot Sequence}
\date{3 December, 2014}
\author{Reece H. Dunn}

\begin{document}

\maketitle

\section{Stern-Brocot Numbers}

The Stern-Brocot sequence is the numbers:

\begin{displaymath}
S = [1, 1, 2, 1, 3, 2, 3, 1, 4, 3, ...]
\end{displaymath}

\noindent
This is defined like the Fibbonacci sequence as follows:

\begin{displaymath}\begin{aligned}
& S_0 = 1 \\
& S_1 = 1 \\
& S_k = S_{n-1} + S_n, S_{k+1} = S_n \forall n \in \mathbb{N}_1
\end{aligned}\end{displaymath}

\noindent
Here, \begin{math}k\end{math} is the last generated term of the sequence.

\noindent
This sequence lists all the rational numbers in the following order:

\begin{displaymath}
\mathbb{Q}_{>0}
=
\left[
\frac{S_{n-1}}{S_n}
\forall n \in \mathbb{N}_{1}
\right]
=
\left[
\frac{1}{1},
\frac{1}{2},
\frac{2}{1},
\frac{1}{3},
...
\right]
\end{displaymath}

\noindent
This sequence of rational numbers is the same as the Stern-Brocot tree when
using breadth-first traversal (left-to-right, top-to-bottom).

\section{Number Distribution}

Considering the positions at which a given number \begin{math}n\end{math} can
appear in the Stern-Brocot sequence, we can define those positions as the
sequence:

\begin{displaymath}
B^n = [i \forall i \in \mathbb{N}_{1} : S_i = n]
\end{displaymath}

\noindent
which gives:

\begin{displaymath}\begin{aligned}
B^1
& = [0, 1, 3, 7, 15, 31, ...] \\
& = [2^i-1 \forall i \in \mathbb{N}_{0}]
\end{aligned}\end{displaymath}

\noindent
This is because the Stern-Brocot sequence is defined to start at
\begin{math}S_0\end{math}.

\noindent
To make the sequences easier to identify in terms of the exponential series
\begin{math}2^i\end{math}, we define:

\begin{displaymath}\begin{aligned}
B'^n
& = [i+1 \forall i \in \mathbb{N}_{1} : S_i = n] \\
& = [B^n_i + 1 \forall i \in \mathbb{N}_{0}]
\end{aligned}\end{displaymath}

\noindent
which gives:

\begin{displaymath}\begin{aligned}
& B'^1 = [1, 2,  4,  8, 16, 32, ...] =   [2^i \forall i \in \mathbb{N}_{0}] \\
& B'^2 = [3, 6, 12, 24, 48, 98, ...] = [3.2^i \forall i \in \mathbb{N}_{0}]
\end{aligned}\end{displaymath}

\noindent
We can define the following exponential sequence:

\begin{displaymath}\begin{aligned}
E^n  & = [n2^i-1 \forall i \in \mathbb{N}_{0}] \\
E'^n & = [n2^i \forall i \in \mathbb{N}_{0}]
\end{aligned}\end{displaymath}

\noindent
which gives:

\begin{displaymath}\begin{aligned}
& B'^1 = [1, 2,  4,  8, 16, 32, ...] = E'^1 \\
& B'^2 = [3, 6, 12, 24, 48, 98, ...] = E'^3
\end{aligned}\end{displaymath}

\noindent
This can then be used to describe the sequences of the other numbers:

\begin{displaymath}\begin{aligned}
B'^3
& = [5, 7, 10, 14, 20, 28, 40, 56, 80, 112, ...] \\
& = E'^5 \cap E'^7
\end{aligned}\end{displaymath}

\noindent
We can now represent these sequences as:

\begin{displaymath}\begin{aligned}
B^n  & = E^{N^n_0}  \cap E^{N^n_1}  \cap E^{N^n_2}  \cap ... \cap E^{N^n_m} \\
B'^n & = E'^{N^n_0} \cap E'^{N^n_1} \cap E'^{N^n_2} \cap ... \cap E'^{N^n_m}
\end{aligned}\end{displaymath}

\noindent
The values of \begin{math}N'\end{math} are:

\begin{displaymath}\begin{aligned}
N'^{1}  & = [1] \\
N'^{2}  & = [3] \\
N'^{3}  & = [5, 7] \\
N'^{4}  & = [9, 15] \\
N'^{5}  & = [11, 13, 17, 31] \\
N'^{6}  & = [33, 63] \\
N'^{7}  & = [19, 23, 25, 29, 65, 127] \\
N'^{8}  & = [21, 27, 129, 255] \\
N'^{9}  & = [35, 47, 49, 61, 257, 511] \\
N'^{10} & = [39, 57, 513, 1023] \\
N'^{11} & = [37, 41, 55, 59, 67, 95, 97, 125, 1025, 2047] \\
N'^{12} & = [45, 51, 2049, 4095] \\
\end{aligned}\end{displaymath}
% allow for a page break here ...
\begin{displaymath}\begin{aligned}
N'^{13} & = [43, 53, 71, 79, 113, 121, 131, 191, 193, 253, 4097, 8191] \\
N'^{14} & = [69, 81, 111, 123, 8193, 16383] \\
N'^{15} & = [73, 119, 259, 383, 385, 509, 16385, 32767] \\
\end{aligned}\end{displaymath}

\noindent
The values for the other number sequences were derived using a computer
program, which can be used to find the sequences of even higher numbers.
The program, along with the \LaTeX\ source for this paper, can be found at
\url{https://github.com/rhdunn/stern-brocot}.

\section{Number Distribution Patterns}

This section looks at the patterns within the numbers contained in the
\begin{math}N'^n\end{math} sets to identify any higher-order relationships in
the number distributions. That is, we are identifying a sequence:

\begin{displaymath}\begin{aligned}
\beta = [\beta_1, \beta_2, \beta_3, \beta_4, ...]
\end{aligned}\end{displaymath}

\noindent
such that:

\begin{displaymath}\begin{aligned}
\beta_n \in N'^{f(n)} \forall n \in \mathbb{N}_{1}
\end{aligned}\end{displaymath}

\noindent
for a given function \begin{math}f\end{math}.

\noindent
Given \begin{math}f(x)=x\end{math}, we find the sequence:

\begin{displaymath}\begin{aligned}
& [1, 3, 7, 15, 31, 63, 127, 255, 511, ...] = [2^n-1 \forall n \in \mathbb{N}_{1}] \\
& \implies 2^n-1 \in N'^n \forall n \in \mathbb{N}_{1}
\end{aligned}\end{displaymath}

\noindent
and:

\begin{displaymath}\begin{aligned}
& [3, 5, 9, 17, 33, 65, 129, 257, ...] = [2^{n-1}+1 \forall n>1 \in \mathbb{N}_{1}] \\
& \implies 2^{n-1}+1 \in N'^n \forall n>1 \in \mathbb{N}_{1}
\end{aligned}\end{displaymath}

\noindent
Given \begin{math}f(x)=2x-1\end{math}, we find the sequence:

\begin{displaymath}\begin{aligned}
& [1, 5, 13, 29, 61, 125, 253, 509, ...] = [2^{n+1}-3 \forall n \in \mathbb{N}_{1}] \\
& \implies 2^{n+1}-3 \in N'^{2n-1} \forall n \in \mathbb{N}_{1}
\end{aligned}\end{displaymath}

\noindent
and:

\begin{displaymath}\begin{aligned}
& [7, 11, 19, 35, 67, 131, 259, 515, ...] = [2^{n-1}+3 \forall n>1 \in \mathbb{N}_{1}] \\
& \implies 2^{n+1}-3 \in N'^{2n-1} \forall n>1 \in \mathbb{N}_{1}
\end{aligned}\end{displaymath}

\noindent
Given \begin{math}f(x)=3x-1\end{math}, we find the sequence:

\begin{displaymath}\begin{aligned}
& [3, 11, 27, 59, 123, ...] = [2^{n+2}-5 \forall n \in \mathbb{N}_{1}] \\
& \implies 2^{n+2}-5 \in N'^{3n-1} \forall n \in \mathbb{N}_{1}
\end{aligned}\end{displaymath}

\noindent
and:

\begin{displaymath}\begin{aligned}
& [13, 21, 37, 69, 133, 261, ...] = [2^{n+1}+5 \forall n>1 \in \mathbb{N}_{1}] \\
& \implies 2^{n+2}-5 \in N'^{3n-1} \forall n>1 \in \mathbb{N}_{1}
\end{aligned}\end{displaymath}

\end{document}
